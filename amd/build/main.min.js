define ("local_assessfreq/main",["core/ajax"],function(a){var f={},g=new Date,h=[],i=[];function b(a,b){return 32-new Date(b,a,32).getDate()}function c(a,b,c){for(var l=0,m;l<c;l++){m=document.createElement("div");m.classList.add("local-assessfreq-month");var d=document.createElement("table"),e=document.createElement("thead"),f=document.createElement("tbody");f.id="calendar-body";var g=document.createElement("tr"),h=document.createElement("tr"),k=document.createElement("th");k.colSpan=7;k.innerHTML=i.months[b];for(var n=0,j;7>n;n++){j=document.createElement("th");j.innerHTML=i.days[n];h.appendChild(j)}g.appendChild(k);e.appendChild(g);e.appendChild(h);d.appendChild(e);d.appendChild(f);m.appendChild(d);a.appendChild(m);b++}}function d(a,c,d){var e=new Date(c,a).getDay(),f=d.getElementsByTagName("tbody")[0],k=h[c][a+1];f.innerHTML="";for(var l=1,m=0,n;6>m;m++){n=document.createElement("tr");for(var r=0;7>r;r++){if(0==m&&r<e){var o=document.createElement("td"),p=document.createTextNode("");o.appendChild(p);n.appendChild(o)}else if(l>b(a,c)){break}else{o=document.createElement("td");p=document.createTextNode(l);if("undefined"!=typeof k&&k.hasOwnProperty(l)){var q="local-assessfreq-heat-"+k[l].heat;o.classList.add(q)}if(l===g.getDate()&&c===g.getFullYear()&&a===g.getMonth()){o.classList.add("bg-info")}o.appendChild(p);n.appendChild(o);l++}}f.appendChild(n)}}function e(b,c,e,f,g){a.call([{methodname:"local_assessfreq_get_frequency",args:{}}])[0].done(function(a){h=JSON.parse(a);for(var f=0;f<b.length;f++){d(c,e,b[f]);c++}}).fail(function(a){window.console.log(a)}).then(function(){f.classList.remove("local-assessfreq.local-assessfreq-row-hidden");f.classList.add("local-assessfreq.local-assessfreq-row");g.remove()})}f.init=function(b,d){var f=b,h=f.children,j=g.getMonth(),k=g.getFullYear();a.call([{methodname:"local_assessfreq_get_strings",args:{}}])[0].done(function(a){i=JSON.parse(a);c(f,j,4)}).fail(function(a){window.console.log(a)}).then(function(){e(h,j,k,f,d)})};return f});
//# sourceMappingURL=main.min.js.map
